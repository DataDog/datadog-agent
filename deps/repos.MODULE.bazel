# 3rd party dependencies

# Defines a "bz2" target for the lib, "bzip2" for the CLI tool
bazel_dep(name = "bzip2", version = "1.0.8")

# Defines a "libyaml" target for the lib
bazel_dep(name = "libyaml", version = "0.2.5")

# Defies a "liblua" target for the lib
bazel_dep(name = "lua", version = "5.4.6")

# Defines a "sqlite3" target for the lib
bazel_dep(name = "sqlite3", version = "3.46.1")

# Defines a "lzma" target for the lib, "xz" for the CLI tools
bazel_dep(name = "xz", version = "5.4.5.bcr.5")

# Defines a "zlib" target for the lib
bazel_dep(name = "zlib", version = "1.3.1.bcr.3")

# Defines a "rules_foreign_cc" target to build openssl
bazel_dep(name = "rules_foreign_cc", version = "0.15.0")

http_archive = use_repo_rule("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

http_archive(
    name = "openssl",
    patches = ["//omnibus/config/patches/openssl3:0001-fix-preprocessor-concatenation.patch"],
    patch_args = ["-p1"],
    url = "https://www.openssl.org/source/openssl-3.4.1.tar.gz",
    sha256 = "002a2d6b30b58bf4bea46c43bdd96365aaf8daa6c428782aa4feee06da197df3",
    strip_prefix = "openssl-3.4.1",
    build_file = "//deps:openssl.BUILD.bazel",
)