"""Agent specific build file for systemd headers"""

load("@rules_pkg//pkg:install.bzl", "pkg_install")
load("@rules_pkg//pkg:mappings.bzl", "pkg_files")
load("@rules_license//rules:license.bzl", "license")

package(
    default_applicable_licenses = [":license"],
    default_visibility = ["//visibility:private"],
)

license(
    name = "license",
    license_kinds = ["@rules_license//licenses/spdx:LGPL-2.1+"],
    license_text = "LICENSE",
    visibility = ["//visibility:public"],
)

alias(
    name = "systemd",
    actual = "@systemd//:install",
)

pkg_files(
    name = "headers",
    srcs = glob(['src/systemd/*.h']),
    prefix = "include/systemd",
)

pkg_install(
    name = "install",
    srcs = [":headers"],
)
