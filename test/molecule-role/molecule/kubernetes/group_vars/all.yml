---
molecule_run_id: "{{ lookup('env', 'MOLECULE_RUN_ID') or lookup('env', 'USER') }}"
molecule_scenario_name: "{{ lookup('env', 'MOLECULE_SCENARIO_NAME') }}"
molecule_ephemeral_directory: "{{ lookup('env', 'MOLECULE_EPHEMERAL_DIRECTORY') }}"

keypair_name: "molecule_key_{{ molecule_run_id }}"
keypair_path: "{{ lookup('env', 'MOLECULE_EPHEMERAL_DIRECTORY') }}/ssh_key"

agent_current_branch: "{{ lookup('env', 'AGENT_CURRENT_BRANCH') or AGENT_CURRENT_BRANCH }}"
agent_docker_repo: "{{ lookup('env', 'STS_DOCKER_TEST_REPO') or STS_DOCKER_TEST_REPO }}"

quay_password: "{{ lookup('env', 'quay_password') or QUAY_PASSWORD }}"
quay_user: "{{ lookup('env', 'quay_user') or QUAY_USER }}"

stackstate_branch: "{{ lookup('env', 'STACKSTATE_BRANCH') or STACKSTATE_BRANCH }}"

ci_project_id: "{{ lookup('env', 'CI_PROJECT_ID') or 'stackstate-agent' }}"
ci_job_token: "{{ lookup('env', 'CI_JOB_TOKEN') or 'local' }}"
ci_project_dir: "{{ lookup('env', 'CI_PROJECT_DIR') }}"
ci_sts_major_python_version: "{{ lookup('env', 'STS_VER') }}.{{ lookup('env', 'MAJOR_VERSION') }}.{{ lookup('env', 'PYTHON_RUNTIMES') }}"
ci_sts_version: "{{ lookup('env', 'STS_VER') }}"

cluster_agent_docker_repo: "{{ lookup('env', 'STS_DOCKER_TEST_REPO_CLUSTER') or STS_DOCKER_TEST_REPO_CLUSTER }}"
cluster_name: "molecule_k8s_test"
dnat_service_port: 321
dnat_server_port: 123
container_to_container_server_port: 234
headless_service_port: 543
namespace: "{{ agent_current_branch.replace('.','-') | lower }}"
