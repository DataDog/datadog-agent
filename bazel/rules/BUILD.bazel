load("@bazel_skylib//:bzl_library.bzl", "bzl_library")
load("@rules_shell//shell:sh_binary.bzl", "sh_binary")

sh_binary(
    name = "replace_prefix",
    srcs = ["replace_prefix.sh"],
    args = select({
        "@platforms//os:linux": [
            "--patchelf",
            "$(location @patchelf)",
        ],
        "//conditions:default": [],
    }),
    data = select({
        "@platforms//os:linux": ["@patchelf"],
        "//conditions:default": [],
    }),
)

bzl_library(
    name = "golden_file_test_bzl",
    srcs = ["golden_file_test.bzl"],
    visibility = ["//visibility:public"],
)

bzl_library(
    name = "so_symlink_bzl",
    srcs = ["so_symlink.bzl"],
    visibility = ["//visibility:public"],
)
