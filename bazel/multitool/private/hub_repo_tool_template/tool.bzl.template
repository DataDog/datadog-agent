# generated by multitool

load("//:toolchain_info.bzl", "declare_toolchain")

_TOOLCHAIN_TYPE = "//tools/{name}:toolchain_type"

def _tool_impl(ctx):
    toolchain = ctx.toolchains[_TOOLCHAIN_TYPE]
    output = ctx.actions.declare_file(ctx.label.name + toolchain.ext)
    ctx.actions.symlink(output = output, target_file = toolchain.executable)
    return [DefaultInfo(executable = output)]

tool = rule(executable = True, implementation = _tool_impl, toolchains = [_TOOLCHAIN_TYPE])

def declare_toolchains():
    "toolchain targets"
    {toolchains}
