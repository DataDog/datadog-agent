<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The home of Datadog Agent developer documentation"><meta name=author content=Datadog><link href=https://datadoghq.dev/datadog-agent/setup/ rel=canonical><link rel=prev href=..><link href=../guidelines/contributing/ rel=next><link rel=icon href=../assets/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>Set up development environment - Datadog Agent</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/custom.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#set-up-development-environment class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Datadog Agent" class="md-header__button md-logo" aria-label="Datadog Agent" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Datadog Agent </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Set up development environment </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/DataDog/datadog-agent title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> datadog/datadog-agent </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../guidelines/contributing/ class=md-tabs__link> Guidelines </a> </li> <li class=md-tabs__item> <a href=../how-to/go/add-module/ class=md-tabs__link> How-to </a> </li> <li class=md-tabs__item> <a href=../components/overview/ class=md-tabs__link> Components </a> </li> <li class=md-tabs__item> <a href=../architecture/dogstatsd/internals/ class=md-tabs__link> Architecture </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Datadog Agent" class="md-nav__button md-logo" aria-label="Datadog Agent" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> Datadog Agent </label> <div class=md-nav__source> <a href=https://github.com/DataDog/datadog-agent title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> datadog/datadog-agent </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Setup </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Setup </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tooling class=md-nav__link> <span class=md-ellipsis> Tooling </span> </a> <nav class=md-nav aria-label=Tooling> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installers class=md-nav__link> <span class=md-ellipsis> Installers </span> </a> </li> <li class=md-nav__item> <a href=#standalone-binaries class=md-nav__link> <span class=md-ellipsis> Standalone binaries </span> </a> </li> <li class=md-nav__item> <a href=#pip class=md-nav__link> <span class=md-ellipsis> pip </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#windows class=md-nav__link> <span class=md-ellipsis> Windows </span> </a> </li> <li class=md-nav__item> <a href=#linux-and-macos class=md-nav__link> <span class=md-ellipsis> Linux and macOS </span> </a> <nav class=md-nav aria-label="Linux and macOS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python class=md-nav__link> <span class=md-ellipsis> Python </span> </a> <nav class=md-nav aria-label=Python> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python-dependencies class=md-nav__link> <span class=md-ellipsis> Python Dependencies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#golang class=md-nav__link> <span class=md-ellipsis> Golang </span> </a> <nav class=md-nav aria-label=Golang> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-tools class=md-nav__link> <span class=md-ellipsis> Installing tools </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#system-or-embedded class=md-nav__link> <span class=md-ellipsis> System or Embedded? </span> </a> <nav class=md-nav aria-label="System or Embedded?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-build class=md-nav__link> <span class=md-ellipsis> System build </span> </a> </li> <li class=md-nav__item> <a href=#embedded-build class=md-nav__link> <span class=md-ellipsis> Embedded build </span> </a> </li> <li class=md-nav__item> <a href=#systemd class=md-nav__link> <span class=md-ellipsis> Systemd </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=#doxygen class=md-nav__link> <span class=md-ellipsis> Doxygen </span> </a> </li> <li class=md-nav__item> <a href=#pre-commit-hooks class=md-nav__link> <span class=md-ellipsis> Pre-commit hooks </span> </a> <nav class=md-nav aria-label="Pre-commit hooks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#skipping-pre-commit class=md-nav__link> <span class=md-ellipsis> Skipping pre-commit </span> </a> </li> <li class=md-nav__item> <a href=#running-pre-commit-manually class=md-nav__link> <span class=md-ellipsis> Running pre-commit manually </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-visual-studio-code-dev-container class=md-nav__link> <span class=md-ellipsis> Setting up Visual Studio Code Dev Container </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#windows-development-environment class=md-nav__link> <span class=md-ellipsis> Windows development environment </span> </a> <nav class=md-nav aria-label="Windows development environment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#code-editor class=md-nav__link> <span class=md-ellipsis> Code editor </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Guidelines </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Guidelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../guidelines/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../guidelines/docs/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> How-to </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> How-to </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Go </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-to/go/add-module/ class=md-nav__link> <span class=md-ellipsis> Add module </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../components/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../components/creating-components/ class=md-nav__link> <span class=md-ellipsis> Creating components </span> </a> </li> <li class=md-nav__item> <a href=../components/testing/ class=md-nav__link> <span class=md-ellipsis> Testing components </span> </a> </li> <li class=md-nav__item> <a href=../components/using-components/ class=md-nav__link> <span class=md-ellipsis> Using components </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Shared features from components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Shared features from components </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3_1> <label class=md-nav__link for=__nav_4_3_1 id=__nav_4_3_1_label tabindex=0> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_1> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../components/shared_features/flares/ class=md-nav__link> <span class=md-ellipsis> Flare </span> </a> </li> <li class=md-nav__item> <a href=../components/shared_features/status/ class=md-nav__link> <span class=md-ellipsis> Status </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> DogStatsD </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> DogStatsD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../architecture/dogstatsd/internals/ class=md-nav__link> <span class=md-ellipsis> Internals </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tooling class=md-nav__link> <span class=md-ellipsis> Tooling </span> </a> <nav class=md-nav aria-label=Tooling> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installers class=md-nav__link> <span class=md-ellipsis> Installers </span> </a> </li> <li class=md-nav__item> <a href=#standalone-binaries class=md-nav__link> <span class=md-ellipsis> Standalone binaries </span> </a> </li> <li class=md-nav__item> <a href=#pip class=md-nav__link> <span class=md-ellipsis> pip </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#windows class=md-nav__link> <span class=md-ellipsis> Windows </span> </a> </li> <li class=md-nav__item> <a href=#linux-and-macos class=md-nav__link> <span class=md-ellipsis> Linux and macOS </span> </a> <nav class=md-nav aria-label="Linux and macOS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python class=md-nav__link> <span class=md-ellipsis> Python </span> </a> <nav class=md-nav aria-label=Python> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python-dependencies class=md-nav__link> <span class=md-ellipsis> Python Dependencies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#golang class=md-nav__link> <span class=md-ellipsis> Golang </span> </a> <nav class=md-nav aria-label=Golang> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-tools class=md-nav__link> <span class=md-ellipsis> Installing tools </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#system-or-embedded class=md-nav__link> <span class=md-ellipsis> System or Embedded? </span> </a> <nav class=md-nav aria-label="System or Embedded?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-build class=md-nav__link> <span class=md-ellipsis> System build </span> </a> </li> <li class=md-nav__item> <a href=#embedded-build class=md-nav__link> <span class=md-ellipsis> Embedded build </span> </a> </li> <li class=md-nav__item> <a href=#systemd class=md-nav__link> <span class=md-ellipsis> Systemd </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=#doxygen class=md-nav__link> <span class=md-ellipsis> Doxygen </span> </a> </li> <li class=md-nav__item> <a href=#pre-commit-hooks class=md-nav__link> <span class=md-ellipsis> Pre-commit hooks </span> </a> <nav class=md-nav aria-label="Pre-commit hooks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#skipping-pre-commit class=md-nav__link> <span class=md-ellipsis> Skipping pre-commit </span> </a> </li> <li class=md-nav__item> <a href=#running-pre-commit-manually class=md-nav__link> <span class=md-ellipsis> Running pre-commit manually </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-visual-studio-code-dev-container class=md-nav__link> <span class=md-ellipsis> Setting up Visual Studio Code Dev Container </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#windows-development-environment class=md-nav__link> <span class=md-ellipsis> Windows development environment </span> </a> <nav class=md-nav aria-label="Windows development environment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#code-editor class=md-nav__link> <span class=md-ellipsis> Code editor </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/DataDog/datadog-agent/blob/main/docs/public/setup.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=set-up-development-environment>Set up development environment<a class=headerlink href=#set-up-development-environment title="Permanent link">&para;</a></h1> <h2 id=tooling>Tooling<a class=headerlink href=#tooling title="Permanent link">&para;</a></h2> <h3 id=installers>Installers<a class=headerlink href=#installers title="Permanent link">&para;</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=macos name=__tabbed_1 type=radio><input id=windows_1 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=macos>macOS</label><label for=windows_1>Windows</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=gui-installer name=__tabbed_2 type=radio><input id=command-line-installer name=__tabbed_2 type=radio><div class=tabbed-labels><label for=gui-installer>GUI installer</label><label for=command-line-installer>Command line installer</label></div> <div class=tabbed-content> <div class=tabbed-block> <ol> <li>In your browser, download the <code>.pkg</code> file: <a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-universal.pkg>dda-universal.pkg</a></li> <li>Run your downloaded file and follow the on-screen instructions.</li> <li>Restart your terminal.</li> <li>To verify that the shell can find and run the <code>dda</code> command in your <code>PATH</code>, use the following command. <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>$ dda --version
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>0.20.0
</span></code></pre></div></li> </ol> </div> <div class=tabbed-block> <ol> <li>Download the file using the <code>curl</code> command. The <code>-o</code> option specifies the file name that the downloaded package is written to. In this example, the file is written to <code>dda-universal.pkg</code> in the current directory. <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>curl -Lo dda-universal.pkg https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-universal.pkg
</span></code></pre></div></li> <li>Run the standard macOS <a href=https://ss64.com/osx/installer.html><code>installer</code></a> program, specifying the downloaded <code>.pkg</code> file as the source. Use the <code>-pkg</code> parameter to specify the name of the package to install, and the <code>-target /</code> parameter for the drive in which to install the package. The files are installed to <code>/usr/local/dda</code>, and an entry is created at <code>/etc/paths.d/dda</code> that instructs shells to add the <code>/usr/local/dda</code> directory to. You must include sudo on the command to grant write permissions to those folders. <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>sudo installer -pkg ./dda-universal.pkg -target /
</span></code></pre></div></li> <li>Restart your terminal.</li> <li>To verify that the shell can find and run the <code>dda</code> command in your <code>PATH</code>, use the following command. <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>$ dda --version
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>0.20.0
</span></code></pre></div></li> </ol> </div> </div> </div> </div> <div class=tabbed-block> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=gui-installer_1 name=__tabbed_3 type=radio><input id=command-line-installer_1 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=gui-installer_1>GUI installer</label><label for=command-line-installer_1>Command line installer</label></div> <div class=tabbed-content> <div class=tabbed-block> <ol> <li>In your browser, download one the <code>.msi</code> files:<ul> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x64.msi>dda-x64.msi</a></li> </ul> </li> <li>Run your downloaded file and follow the on-screen instructions.</li> <li>Restart your terminal.</li> <li>To verify that the shell can find and run the <code>dda</code> command in your <code>PATH</code>, use the following command. <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>$ dda --version
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>0.20.0
</span></code></pre></div></li> </ol> </div> <div class=tabbed-block> <ol> <li> <p>Download and run the installer using the standard Windows <a href=https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/msiexec><code>msiexec</code></a> program, specifying one of the <code>.msi</code> files as the source. Use the <code>/passive</code> and <code>/i</code> parameters to request an unattended, normal installation.</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:1><input checked=checked id=x64 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=x64>x64</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>msiexec /passive /i https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x64.msi
</span></code></pre></div> </div> </div> </div> </li> </ol> <div class="tabbed-set tabbed-alternate" data-tabs=5:1><input checked=checked id=x86 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=x86>x86</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>msiexec /passive /i https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x86.msi
</span></code></pre></div> </div> </div> </div> <ol> <li>Restart your terminal.</li> <li>To verify that the shell can find and run the <code>dda</code> command in your <code>PATH</code>, use the following command. <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>$ dda --version
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>0.20.0
</span></code></pre></div></li> </ol> </div> </div> </div> </div> </div> </div> <h3 id=standalone-binaries>Standalone binaries<a class=headerlink href=#standalone-binaries title="Permanent link">&para;</a></h3> <p>After downloading the archive corresponding to your platform and architecture, extract the binary to a directory that is on your PATH and rename to <code>dda</code>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:3><input checked=checked id=macos_1 name=__tabbed_6 type=radio><input id=windows_2 name=__tabbed_6 type=radio><input id=linux name=__tabbed_6 type=radio><div class=tabbed-labels><label for=macos_1>macOS</label><label for=windows_2>Windows</label><label for=linux>Linux</label></div> <div class=tabbed-content> <div class=tabbed-block> <ul> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-aarch64-apple-darwin.tar.gz>dda-aarch64-apple-darwin.tar.gz</a></li> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x86_64-apple-darwin.tar.gz>dda-x86_64-apple-darwin.tar.gz</a></li> </ul> </div> <div class=tabbed-block> <ul> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x86_64-pc-windows-msvc.zip>dda-x86_64-pc-windows-msvc.zip</a></li> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-i686-pc-windows-msvc.zip>dda-i686-pc-windows-msvc.zip</a></li> </ul> </div> <div class=tabbed-block> <ul> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-aarch64-unknown-linux-gnu.tar.gz>dda-aarch64-unknown-linux-gnu.tar.gz</a></li> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x86_64-unknown-linux-gnu.tar.gz>dda-x86_64-unknown-linux-gnu.tar.gz</a></li> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-x86_64-unknown-linux-musl.tar.gz>dda-x86_64-unknown-linux-musl.tar.gz</a></li> <li><a href=https://github.com/DataDog/datadog-agent-dev/releases/latest/download/dda-powerpc64le-unknown-linux-gnu.tar.gz>dda-powerpc64le-unknown-linux-gnu.tar.gz</a></li> </ul> </div> </div> </div> <h3 id=pip>pip<a class=headerlink href=#pip title="Permanent link">&para;</a></h3> <p><code>dda</code> is available on PyPI and can be installed with <a href=https://github.com/pypa/pip>pip</a>.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>pip install dda
</span></code></pre></div> <p>!!! warning - This method modifies the Python environment in which you choose to install. - Python 3.12.x is required.</p> <h2 id=windows>Windows<a class=headerlink href=#windows title="Permanent link">&para;</a></h2> <p>To build the agent on Windows, see <a href=https://github.com/DataDog/datadog-agent-buildimages/tree/main/windows>datadog-agent-buildimages</a>.</p> <h2 id=linux-and-macos>Linux and macOS<a class=headerlink href=#linux-and-macos title="Permanent link">&para;</a></h2> <h3 id=python>Python<a class=headerlink href=#python title="Permanent link">&para;</a></h3> <p>The Agent embeds a full-fledged CPython interpreter so it requires the development files to be available in the dev env. The Agent can embed Python 3, you will need development files for the version you want to support.</p> <p>If you're on OSX/macOS, installing 3.12 with <a href=https://brew.sh>Homebrew</a>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>brew install python@3.12
</span></code></pre></div> <p>On Linux, depending on the distribution, you might need to explicitly install the development files, for example on Ubuntu:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>sudo apt-get install python3.12-dev
</span></code></pre></div> <p>On Windows, install 3.12 via the <a href=https://www.python.org/downloads/ >official installer</a> brings along all the development files needed:</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>If you don't use one of the Python versions that are explicitly supported, you may have problems running the built Agent's Python checks, especially if using a virtualenv. At this time, only Python 3.12 is confirmed to work as expected in the development environment.</p> </div> <h4 id=python-dependencies>Python Dependencies<a class=headerlink href=#python-dependencies title="Permanent link">&para;</a></h4> <p>To protect and isolate your system-wide python installation, a python virtual environment is <em>highly</em> recommended (though optional). It will help keep a self-contained development environment and ensure a clean system Python.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Due to the <a href=https://bugs.python.org/issue22213>way some virtual environments handle executable paths</a> (e.g. <code>python -m venv</code>), not all virtual environment options will be able to run the built Agent correctly. At this time, the only confirmed virtual environment creator that is known for sure to work is <code>virtualenv</code>.</p> </div> <ul> <li>Install the virtualenv module: <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>python3 -m pip install virtualenv
</span></code></pre></div></li> <li>Create the virtual environment: <div class="language-text highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>virtualenv $GOPATH/src/github.com/DataDog/datadog-agent/venv
</span></code></pre></div></li> <li><a href=https://virtualenv.pypa.io/en/latest/user_guide.html#activators>Activate the virtualenv</a> (OS-dependent). This must be done for every new terminal before you start.</li> </ul> <p>If using virtual environments when running the built Agent, you may need to override the built Agent's search path for Python check packages using the <code>PYTHONPATH</code> variable (your target path must have the <a href=https://datadoghq.dev/integrations-core/setup/ >pre-requisite core integration packages installed</a> though).</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nv>PYTHONPATH</span><span class=o>=</span><span class=s2>&quot;./venv/lib/python3.12/site-packages:</span><span class=nv>$PYTHONPATH</span><span class=s2>&quot;</span><span class=w> </span>./agent<span class=w> </span>run<span class=w> </span>...
</span></code></pre></div> <p>See also some notes in <a href=https://github.com/DataDog/datadog-agent/tree/main/docs/dev/checks>./checks</a> about running custom python checks.</p> <h3 id=golang>Golang<a class=headerlink href=#golang title="Permanent link">&para;</a></h3> <p>You must <a href=https://golang.org/doc/install>install Golang</a> version <code>1.24.4</code> or later. Make sure that <code>$GOPATH/bin</code> is in your <code>$PATH</code>, otherwise <a href=#tooling>tooling</a> cannot use any additional tool it might need.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Versions of Golang that aren't an exact match to the version specified in our build images (see e.g. <a href=https://github.com/DataDog/datadog-agent-buildimages/blob/c025473ee467ee6d884d532e4c12c7d982ce8fe1/circleci/Dockerfile#L43>here</a>) may not be able to build the agent and/or the <a href=https://github.com/DataDog/datadog-agent/tree/main/rtloader>rtloader</a> binary properly.</p> </div> <h4 id=installing-tools>Installing tools<a class=headerlink href=#installing-tools title="Permanent link">&para;</a></h4> <p>From the root of <code>datadog-agent</code>, run <code>inv install-tools</code> to install go tooling. This uses <code>go</code> to install the necessary dependencies.</p> <h3 id=system-or-embedded>System or Embedded?<a class=headerlink href=#system-or-embedded title="Permanent link">&para;</a></h3> <p>When working on the Agent codebase you can choose among two different ways to build the binary, informally named <em>System</em> and <em>Embedded</em> builds. For most contribution scenarios you should rely on the System build (the default) and use the Embedded one only for specific use cases. Let's explore the differences.</p> <h4 id=system-build>System build<a class=headerlink href=#system-build title="Permanent link">&para;</a></h4> <p><em>System</em> builds use your operating system's standard system libraries to satisfy the Agent's external dependencies. Since, for example, macOS 10.11 may provide a different version of Python than macOS 10.12, system builds on each of these platforms may produce different Agent binaries. If this doesn't matter to you—perhaps you just want to contribute a quick bugfix—do a System build; it's easier and faster than an Embedded build. System build is the default for all build and test tasks, so you don't need to configure anything there. But to make sure you have system copies of all the Agent's dependencies, skip the <em>Embedded build</em> section below and read on to see how to install them via your usual package manager (apt, yum, brew, etc).</p> <h4 id=embedded-build>Embedded build<a class=headerlink href=#embedded-build title="Permanent link">&para;</a></h4> <p><em>Embedded</em> builds download specifically-versioned dependencies and compile them locally from sources. We run Embedded builds to create Datadog's official Agent releases (i.e. RPMs, debs, etc), and while you can run the same builds while developing locally, the process is as slow as it sounds. Hence, you should only use them when you care about reproducible builds. For example:</p> <ul> <li>you want to build an agent binary that can be used as-is to replace the binary of an existing agent installation</li> <li>some dependencies are not available on your system</li> <li>you're working or debugging at a very low level: let's say you're adding a function to the Python bindings, you want to make sure you're using the exact same versions of Python as the official Agent packages</li> </ul> <p>Embedded builds rely on <a href=https://github.com/chef/omnibus>Omnibus</a> to download and build dependencies, so you need a recent <code>ruby</code> environment with <code>bundler</code> installed. See <a href=https://github.com/DataDog/datadog-agent/blob/main/docs/dev/agent_omnibus.md>how to build Agent packages with Omnibus</a> for more details.</p> <h4 id=systemd>Systemd<a class=headerlink href=#systemd title="Permanent link">&para;</a></h4> <p>The agent is able to collect systemd journal logs using a wrapper on the systemd utility library.</p> <p>On Ubuntu/Debian:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>sudo apt-get install libsystemd-dev
</span></code></pre></div> <p>On Redhat/CentOS:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>sudo yum install systemd-devel
</span></code></pre></div> <h3 id=docker>Docker<a class=headerlink href=#docker title="Permanent link">&para;</a></h3> <p>If you want to build a Docker image containing the Agent, or if you wan to run <a href=https://github.com/DataDog/datadog-agent/blob/main/docs/dev/agent_tests.md>system and integration tests</a> you need to run a recent version of Docker in your dev environment.</p> <h3 id=doxygen>Doxygen<a class=headerlink href=#doxygen title="Permanent link">&para;</a></h3> <p>We use <a href=http://www.doxygen.nl>Doxygen</a> to generate the documentation for the <code>rtloader</code> part of the Agent.</p> <p>To generate it (using the <code>inv rtloader.generate-doc</code> command), you'll need to have Doxygen installed on your system and available in your <code>$PATH</code>. You can compile and install Doxygen from source with the instructions available <a href=http://www.doxygen.nl/manual/install.html>here</a>. Alternatively, you can use already-compiled Doxygen binaries from <a href=http://www.doxygen.nl/download.html>here</a>.</p> <p>To get the dependency graphs, you may also need to install the <code>dot</code> executable from <a href=http://www.graphviz.org/ >graphviz</a> and add it to your <code>$PATH</code>.</p> <h3 id=pre-commit-hooks>Pre-commit hooks<a class=headerlink href=#pre-commit-hooks title="Permanent link">&para;</a></h3> <p>It is optional but recommended to install <code>pre-commit</code> to run a number of checks done by the CI locally.</p> <h4 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">&para;</a></h4> <p>To install it, run:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>python3<span class=w> </span>-m<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>pre-commit
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=nv>GOFLAGS</span><span class=o>=</span>-buildvcs<span class=o>=</span><span class=nb>false</span><span class=w> </span>pre-commit<span class=w> </span>install<span class=w>  </span><span class=c1># buildvcs avoids errors when getting go dependencies</span>
</span></code></pre></div> <p>The <code>shellcheck</code> pre-commit hook requires having the <code>shellcheck</code> binary installed and in your <code>$PATH</code>. To install it, run:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>dda<span class=w> </span>inv<span class=w> </span>install-shellcheck<span class=w> </span>--destination<span class=w> </span>&lt;path&gt;
</span></code></pre></div> <p>(by default, the shellcheck binary is installed in <code>/usr/local/bin</code>).</p> <h4 id=skipping-pre-commit>Skipping <code>pre-commit</code><a class=headerlink href=#skipping-pre-commit title="Permanent link">&para;</a></h4> <p>If you want to skip <code>pre-commit</code> for a specific commit you can add <code>--no-verify</code> to the <code>git commit</code> command.</p> <h4 id=running-pre-commit-manually>Running <code>pre-commit</code> manually<a class=headerlink href=#running-pre-commit-manually title="Permanent link">&para;</a></h4> <p>If you want to run one of the checks manually, you can run <code>pre-commit run &lt;check name&gt;</code>.</p> <p>You can run it on all files with the <code>--all-files</code> flag.</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>pre-commit<span class=w> </span>run<span class=w> </span>flake8<span class=w> </span>--all-files<span class=w>  </span><span class=c1># run flake8 on all files</span>
</span></code></pre></div> <p>See <code>pre-commit run --help</code> for further options.</p> <h3 id=setting-up-visual-studio-code-dev-container>Setting up Visual Studio Code Dev Container<a class=headerlink href=#setting-up-visual-studio-code-dev-container title="Permanent link">&para;</a></h3> <p><a href=https://code.visualstudio.com/download>Microsoft Visual Studio Code</a> with the <a href=https://code.visualstudio.com/docs/remote/containers>devcontainer plugin</a> allow to use a container as remote development environment in vscode. It simplify and isolate the dependencies needed to develop in this repository.</p> <p>To configure the vscode editor to use a container as remote development environment you need to:</p> <ul> <li>Install the <a href=https://code.visualstudio.com/docs/remote/containers>devcontainer plugin</a> and the <a href=https://code.visualstudio.com/docs/languages/go>golang language plugin</a>.</li> <li>Run the following command <code>inv vscode.setup-devcontainer --image "&lt;image name&gt;"</code>. This command will create the devcontainer configuration file <code>./devcontainer/devcontainer.json</code>.</li> <li>Start or restart your vscode editor.</li> <li>A pop-up should show-up to propose to "reopen in container" your workspace.</li> <li>The first start, it might propose you to install the golang plugin dependencies/tooling.</li> </ul> <h2 id=windows-development-environment>Windows development environment<a class=headerlink href=#windows-development-environment title="Permanent link">&para;</a></h2> <h3 id=code-editor>Code editor<a class=headerlink href=#code-editor title="Permanent link">&para;</a></h3> <p><a href=https://code.visualstudio.com/download>Microsoft Visual Studio Code</a> is recommended as it's lightweight and versatile.</p> <p>Building on Windows requires multiple 3<sup>rd</sup>-party software to be installed. To avoid the complexity, Datadog recommends to make the code change in VS Code, and then do the build in Docker image. For complete information, see <a href=https://github.com/DataDog/datadog-agent/blob/main/docs/dev/agent_omnibus.md>Build the Agent packages</a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">May 20, 2025</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=.. class="md-footer__link md-footer__link--prev" aria-label="Previous: About"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> About </div> </div> </a> <a href=../guidelines/contributing/ class="md-footer__link md-footer__link--next" aria-label="Next: Contributing"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Contributing </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Datadog, Inc. 2024-present </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.datadoghq.com/blog/engineering/ target=_blank rel=noopener title=www.datadoghq.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32 123.7 0 224 100.3 224 224 0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32m0 96c0 17.7 14.3 32 32 32 70.7 0 128 57.3 128 128 0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192-17.7 0-32 14.3-32 32m-96 16c0-26.5-21.5-48-48-48S0 117.5 0 144v224c0 79.5 64.5 144 144 144s144-64.5 144-144-64.5-144-144-144h-16v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48z"/></svg> </a> <a href=https://github.com/DataDog target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://twitter.com/datadoghq target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> <a href=https://www.instagram.com/datadoghq target=_blank rel=noopener title=www.instagram.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.action.edit", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.56ea9cef.min.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>