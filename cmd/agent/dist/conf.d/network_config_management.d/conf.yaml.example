## This file is overwritten upon Agent upgrade.
## To make modifications to the check configuration, please copy this file
## to `conf.yaml` and make your changes on that file.

## This integration is currently in beta.

init_config:

    ## @param namespace - string - optional - default: default
    ## Namespace can be used to disambiguate devices with the same IP.
    ## The namespace should match namespaces of devices being monitored
    ## for NDM to be correlated.
    #
    # namespace: default

    ## @param min_collection_interval - integer - optional - default: 900 (15 minutes)
    ## This changes the collection interval of the check in seconds.
    #
    # min_collection_interval: 900

    ## @param ssh - object - optional
    ## Global SSH configuration that applies to all device instances unless
    ## overridden at the device level. These settings control how the agent
    ## establishes SSH connections to network devices.
    #
    # ssh:

        ## @param timeout - duration - optional - default: 30 (seconds)
        ## Maximum time for the SSH client to establish a connection.
        #
        # timeout: 30

        ## @param known_hosts_path - string - required (unless insecure_skip_verify is true)
        ## Path to the known_hosts file containing public keys of servers to verify
        ## the identity of remote hosts. Required for secure connections.
        #
        # known_hosts_path: /path/to/known_hosts

        ## @param insecure_skip_verify - boolean - optional - default: false
        ## Skip host key verification. This is INSECURE and should only be used
        ## for testing purposes.
        #
        # insecure_skip_verify: false

        ## @param ciphers - list of strings - optional
        ## List of SSH encryption ciphers to use for the connection.
        ## If not specified, the SSH library will use its default ciphers.
        ## Below is a list of supported ciphers.
        #
        # ciphers:
        #   - aes128-gcm@openssh.com
        #   - aes256-gcm@openssh.com
        #   - chacha20-poly1305@openssh.com
        #   - aes128-ctr
        #   - aes192-ctr
        #   - aes256-ctr

        ## @param key_exchanges - list of strings - optional
        ## List of SSH key exchange algorithms to use for the connection.
        ## If not specified, the SSH library will use its default algorithms.
        ## Below is a list of supported key exchanges.
        #
        # key_exchanges:
        #   - mlkem768x25519-sha256
        #   - curve25519-sha256
        #   - diffie-hellman-group14-sha256
        #   - diffie-hellman-group16-sha512
        #   - diffie-hellman-group-exchange-sha256
        #   - ecdh-sha2-nistp256
        #   - ecdh-sha2-nistp384
        #   - ecdh-sha2-nistp521

        ## @param host_key_algorithms - list of strings - optional
        ## List of SSH host key algorithms to accept from the remote server.
        ## If not specified, the SSH library will use its default algorithms.
        ## Below is a list of supported host key algorithms.
        #
        # host_key_algorithms:
        #   - ssh-ed25519
        #   - ecdsa-sha2-nistp256
        #   - ecdsa-sha2-nistp384
        #   - ecdsa-sha2-nistp521
        #   - rsa-sha2-256
        #   - rsa-sha2-512

        ## @param allow_legacy_algorithms - boolean - optional - default: false
        ## Allow weak/legacy SSH algorithms to be used. This is INSECURE and should
        ## only be enabled for older devices that do not support modern algorithms.
        #
        # allow_legacy_algorithms: false

instances:

  -
    ## @param ip_address - string - required
    ## The IP address of the network device to collect configurations from.
    #
    # ip_address: <IP_ADDRESS>

    ## @param auth - object - required
    ## Authentication credentials to connect to the network device.
    #
    auth:

        ## @param username - string - required
        ## Username to authenticate to the network device.
        #
        # username: <USERNAME>

        ## @param password - string - required (if private_key_file is not provided)
        ## Password to authenticate to the network device.
        ## Used as a fallback after private key authentication if both are provided.
        #
        # password: <PASSWORD>

        ## @param private_key_file - string - optional
        ## Path to the SSH private key file for authentication.
        ## At least one of password or private_key_file must be provided.
        #
        # private_key_file: /path/to/private_key

        ## @param private_key_passphrase - string - optional
        ## Passphrase to decrypt the private key file, if encrypted.
        #
        # private_key_passphrase: <PASSPHRASE>

        ## @param port - string - optional - default: "22"
        ## SSH port of the network device.
        #
        # port: "22"

        ## @param remote - string - optional - default: "tcp"
        ## Protocol to use for the connection.
        #
        # remote: tcp

        ## @param ssh - object - optional
        ## Device-specific SSH configuration. Overrides the global SSH config
        ## from init_config if specified. Uses the same parameters as the
        ## global ssh configuration above.
        #
        # ssh:
        #   timeout: 30
        #   known_hosts_path: /path/to/known_hosts
        #   insecure_skip_verify: false
        #   ciphers: []
        #   key_exchanges: []
        #   host_key_algorithms: []
        #   allow_legacy_algorithms: false

  ## Add additional device instances as needed
  # -
  #   ip_address: <IP_ADDRESS_2>
  #   profile: <PROFILE_NAME_2>
  #   auth:
  #     username: <USERNAME_2>
  #     password: <PASSWORD_2>