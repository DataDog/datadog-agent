extensions:
  ddprofiling/default: 
    api:
      key: ${env:DD_API_KEY}
      site: ${env:DD_SITE}
receivers:
  hostprofiler:
processors:
  infraattributes/default:
    cardinality: 2 # HighCardinality
exporters:
  debug: {}
  otlphttp:
    endpoint: https://intake.profile.datad0g.com/api/v2/profotlp
    headers:
      dd-api-key: ${env:DD_API_KEY}
    profiles_endpoint: https://intake.profile.datad0g.com/api/v2/profotlp
service:
  # ddprofiling/default is automatically removed when the Agent Core is not available or when extensions.ddprofiling/default.enable_go_runtime_profiler is false (default is false)  
  extensions: [ddprofiling/default]
  pipelines:
    profiles:
      receivers: [hostprofiler]
      # infraattributes/default is automatically removed when the Agent Core is not available  
      processors: [infraattributes/default]
      exporters: [otlphttp, debug]   
 