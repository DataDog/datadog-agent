diff --git a/.cargo/config.toml b/.cargo/config.toml
index f0ba8af..274db88 100644
--- a/.cargo/config.toml
+++ b/.cargo/config.toml
@@ -13,3 +13,8 @@ rustflags = [
   "-C", "link-arg=-undefined",
   "-C", "link-arg=dynamic_lookup",
 ]
+
+[patch.crates-io]
+speedate = { git = 'https://github.com/DataDog/speedate.git', branch = 'support-old-nightly' }
+pyo3 = { git = 'https://github.com/DataDog/pyo3.git', branch = 'support-old-nightly' }
+indexmap = { git = 'https://github.com/DataDog/indexmap.git', branch = 'support-old-nightly' }
diff --git a/Cargo.lock b/Cargo.lock
index 3f685e6..e1ebadb 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -62,15 +62,9 @@ dependencies = [
  "once_cell",
  "proc-macro2",
  "quote",
- "syn 2.0.25",
+ "syn 2.0.27",
 ]
 
-[[package]]
-name = "equivalent"
-version = "1.0.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "5443807d6dff69373d433ab9ef5378ad8df50ca6298caf15de6e52e24aaf54d5"
-
 [[package]]
 name = "form_urlencoded"
 version = "1.2.0"
@@ -93,9 +87,9 @@ dependencies = [
 
 [[package]]
 name = "hashbrown"
-version = "0.14.0"
+version = "0.12.3"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "2c6201b9ff9fd90a5a3bac2e56a830d0caa509576f0e503818ee82c181b3437a"
+checksum = "8a9ee70c43aaf417c914396645a0fa852624801b24ebb7ae78fe8272889ac888"
 
 [[package]]
 name = "heck"
@@ -115,11 +109,10 @@ dependencies = [
 
 [[package]]
 name = "indexmap"
-version = "2.0.0"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d5477fe2230a79769d8dc68e0eabf5437907c0457a5614a9e8dddb67f65eb65d"
+version = "1.9.3"
+source = "git+https://github.com/DataDog/indexmap.git?branch=support-old-nightly#861fad73de14b7f08d2dc56ed83607aef621b42e"
 dependencies = [
- "equivalent",
+ "autocfg",
  "hashbrown",
 ]
 
@@ -131,9 +124,9 @@ checksum = "bfa799dd5ed20a7e349f3b4639aa80d74549c81716d9ec4f994c9b5815598306"
 
 [[package]]
 name = "itoa"
-version = "1.0.8"
+version = "1.0.9"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "62b02a5381cc465bd3041d84623d0fa3b66738b52b8e2fc3bab8ad63ab032f4a"
+checksum = "af150ab688ff2122fcef229be89cb50dd66af9e01a4ff320cc137eecc9bacc38"
 
 [[package]]
 name = "libc"
@@ -208,9 +201,9 @@ dependencies = [
 
 [[package]]
 name = "num-traits"
-version = "0.2.15"
+version = "0.2.16"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "578ede34cf02f8924ab9447f50c28075b4d3e5b269972345e7e0372b38c6cdcd"
+checksum = "f30b0abd723be7e2ffca1272140fac1a2f084c77ec3e123c192b66af1ee9e6c2"
 dependencies = [
  "autocfg",
 ]
@@ -252,9 +245,9 @@ checksum = "9b2a4787296e9989611394c33f193f676704af1686e70b8f8033ab5ba9a35a94"
 
 [[package]]
 name = "proc-macro2"
-version = "1.0.64"
+version = "1.0.66"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "78803b62cbf1f46fde80d7c0e803111524b9877184cfe7c3033659490ac7a7da"
+checksum = "18fb31db3f9bddb2ea821cde30a9f70117e3f119938b5ee630b7403aa6e2ead9"
 dependencies = [
  "unicode-ident",
 ]
@@ -270,7 +263,7 @@ dependencies = [
  "mimalloc",
  "num-bigint",
  "pyo3",
- "pyo3-build-config",
+ "pyo3-build-config 0.19.1 (registry+https://github.com/rust-lang/crates.io-index)",
  "python3-dll-a",
  "regex",
  "serde",
@@ -286,8 +279,7 @@ dependencies = [
 [[package]]
 name = "pyo3"
 version = "0.19.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "ffb88ae05f306b4bfcde40ac4a51dc0b05936a9207a4b75b798c7729c4258a59"
+source = "git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly#782dcfa95ce95ef6306cd9c777ca3aee86b79fcc"
 dependencies = [
  "cfg-if",
  "indoc",
@@ -295,7 +287,7 @@ dependencies = [
  "memoffset",
  "num-bigint",
  "parking_lot",
- "pyo3-build-config",
+ "pyo3-build-config 0.19.1 (git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly)",
  "pyo3-ffi",
  "pyo3-macros",
  "unindent",
@@ -306,6 +298,15 @@ name = "pyo3-build-config"
 version = "0.19.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "554db24f0b3c180a9c0b1268f91287ab3f17c162e15b54caaae5a6b3773396b0"
+dependencies = [
+ "once_cell",
+ "target-lexicon",
+]
+
+[[package]]
+name = "pyo3-build-config"
+version = "0.19.1"
+source = "git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly#782dcfa95ce95ef6306cd9c777ca3aee86b79fcc"
 dependencies = [
  "once_cell",
  "python3-dll-a",
@@ -315,18 +316,16 @@ dependencies = [
 [[package]]
 name = "pyo3-ffi"
 version = "0.19.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "922ede8759e8600ad4da3195ae41259654b9c55da4f7eec84a0ccc7d067a70a4"
+source = "git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly#782dcfa95ce95ef6306cd9c777ca3aee86b79fcc"
 dependencies = [
  "libc",
- "pyo3-build-config",
+ "pyo3-build-config 0.19.1 (git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly)",
 ]
 
 [[package]]
 name = "pyo3-macros"
 version = "0.19.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "8a5caec6a1dd355964a841fcbeeb1b89fe4146c87295573f94228911af3cc5a2"
+source = "git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly#782dcfa95ce95ef6306cd9c777ca3aee86b79fcc"
 dependencies = [
  "proc-macro2",
  "pyo3-macros-backend",
@@ -337,8 +336,7 @@ dependencies = [
 [[package]]
 name = "pyo3-macros-backend"
 version = "0.19.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "e0b78ccbb160db1556cdb6fd96c50334c5d4ec44dc5e0a968d0a1208fa0efa8b"
+source = "git+https://github.com/DataDog/pyo3.git?branch=support-old-nightly#782dcfa95ce95ef6306cd9c777ca3aee86b79fcc"
 dependencies = [
  "proc-macro2",
  "quote",
@@ -356,9 +354,9 @@ dependencies = [
 
 [[package]]
 name = "quote"
-version = "1.0.29"
+version = "1.0.32"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "573015e8ab27661678357f27dc26460738fd2b6c86e46f386fde94cb5d913105"
+checksum = "50f3b39ccfb720540debaa0164757101c08ecb8d326b15358ce76a62c7e85965"
 dependencies = [
  "proc-macro2",
 ]
@@ -386,9 +384,9 @@ dependencies = [
 
 [[package]]
 name = "regex-automata"
-version = "0.3.2"
+version = "0.3.3"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "83d3daa6976cffb758ec878f108ba0e062a45b2d6ca3a2cca965338855476caf"
+checksum = "39354c10dd07468c2e73926b23bb9c2caca74c5501e38a35da70406f1d923310"
 dependencies = [
  "aho-corasick",
  "memchr",
@@ -403,21 +401,21 @@ checksum = "e5ea92a5b6195c6ef2a0295ea818b312502c6fc94dde986c5553242e18fd4ce2"
 
 [[package]]
 name = "rustversion"
-version = "1.0.13"
+version = "1.0.14"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "dc31bd9b61a32c31f9650d18add92aa83a49ba979c143eefd27fe7177b05bd5f"
+checksum = "7ffc183a10b4478d04cbbbfc96d0873219d962dd5accaff2ffbd4ceb7df837f4"
 
 [[package]]
 name = "ryu"
-version = "1.0.14"
+version = "1.0.15"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "fe232bdf6be8c8de797b22184ee71118d63780ea42ac85b61d1baa6d3b782ae9"
+checksum = "1ad4cc8da4ef723ed60bced201181d83791ad433213d8c24efffda1eec85d741"
 
 [[package]]
 name = "scopeguard"
-version = "1.1.0"
+version = "1.2.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d29ab0c6d3fc0ee92fe66e2d99f700eab17a8d57d1c1d3b748380fb20baa78cd"
+checksum = "94143f37725109f92c262ed2cf5e59bce7498c01bcc1502d7b9afe439a4e9f49"
 
 [[package]]
 name = "serde"
@@ -436,14 +434,14 @@ checksum = "b23f7ade6f110613c0d63858ddb8b94c1041f550eab58a16b371bdf2c9c80ab4"
 dependencies = [
  "proc-macro2",
  "quote",
- "syn 2.0.25",
+ "syn 2.0.27",
 ]
 
 [[package]]
 name = "serde_json"
-version = "1.0.103"
+version = "1.0.97"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d03b412469450d4404fe8499a268edd7f8b79fecb074b0d812ad64ca21f4031b"
+checksum = "bdf3bf93142acad5821c99197022e170842cdbc1c30482b98750c688c640842a"
 dependencies = [
  "indexmap",
  "itoa",
@@ -460,8 +458,7 @@ checksum = "62bb4feee49fdd9f707ef802e22365a35de4b7b299de4763d44bfea899442ff9"
 [[package]]
 name = "speedate"
 version = "0.11.0"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "e54e4ea42510cf6cb46223f6974670faf58ef49e82040e924a295aa3f0c8eaa2"
+source = "git+https://github.com/DataDog/speedate.git?branch=support-old-nightly#bc24aa838c684a6b092b128dac20a085c79d2d8e"
 dependencies = [
  "strum",
  "strum_macros",
@@ -486,7 +483,7 @@ dependencies = [
  "proc-macro2",
  "quote",
  "rustversion",
- "syn 2.0.25",
+ "syn 2.0.27",
 ]
 
 [[package]]
@@ -502,9 +499,9 @@ dependencies = [
 
 [[package]]
 name = "syn"
-version = "2.0.25"
+version = "2.0.27"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "15e3fc8c0c74267e2df136e5e5fb656a464158aa57624053375eb9c8c6e25ae2"
+checksum = "b60f673f44a8255b9c8c657daf66a596d435f2da81a555b06dc644d080ba45e0"
 dependencies = [
  "proc-macro2",
  "quote",
@@ -513,9 +510,9 @@ dependencies = [
 
 [[package]]
 name = "target-lexicon"
-version = "0.12.9"
+version = "0.12.10"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "df8e77cb757a61f51b947ec4a7e3646efd825b73561db1c232a8ccb639e611a0"
+checksum = "1d2faeef5759ab89935255b1a4cd98e0baf99d1085e37d36599c625dac49ae8e"
 
 [[package]]
 name = "tinyvec"
@@ -540,9 +537,9 @@ checksum = "92888ba5573ff080736b3648696b70cafad7d250551175acbaa4e0385b3e1460"
 
 [[package]]
 name = "unicode-ident"
-version = "1.0.10"
+version = "1.0.11"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "22049a19f4a68748a168c0fc439f9516686aa045927ff767eca0a85101fb6e73"
+checksum = "301abaae475aa91687eb82514b328ab47a211a533026cb25fc3e519b86adfc3c"
 
 [[package]]
 name = "unicode-normalization"
diff --git a/Cargo.toml b/Cargo.toml
index 1cfdba5..e3a362c 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -30,7 +30,7 @@ pyo3 = { version = "0.19.1", features = ["generate-import-lib", "num-bigint"] }
 regex = "1.6.0"
 strum = { version = "0.25.0", features = ["derive"] }
 strum_macros = "0.25.1"
-serde_json = {version = "1.0.103", features = ["arbitrary_precision", "preserve_order"]}
+serde_json = {version = "<1.0.98", features = ["arbitrary_precision", "preserve_order"]}
 enum_dispatch = "0.3.8"
 serde = { version = "1.0.175", features = ["derive"] }
 # disabled for benchmarks since it makes microbenchmark performance more flakey
@@ -52,7 +52,6 @@ crate-type = ["cdylib", "rlib"]
 [features]
 # must be enabled when building with `cargo build`, maturin enables this automatically
 extension-module = ["pyo3/extension-module"]
-default = ["mimalloc"]
 
 [profile.release]
 lto = "fat"
diff --git a/pyproject.toml b/pyproject.toml
index 1602e32..0278c38 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,6 +1,6 @@
 [build-system]
 requires = [
-    'maturin>=1,<2',
+    'maturin[zig]>=1,<2',
     'typing-extensions >=4.6.0,!=4.7.0'
 ]
 build-backend = 'maturin'
@@ -52,6 +52,7 @@ python-source = "python"
 module-name = "pydantic_core._pydantic_core"
 bindings = 'pyo3'
 features = ["pyo3/extension-module"]
+compatibility = "manylinux1"
 
 [tool.ruff]
 line-length = 120
