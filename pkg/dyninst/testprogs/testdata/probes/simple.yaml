binary: simple
probes:
- id: intArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.intArg
- id: stringArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.stringArg
- id: intSliceArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.intSliceArg
- id: intArrayArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.intArrayArg
- id: stringSliceArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.stringSliceArg
- id: stringArrayArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.stringArrayArg
- id: intArrayArgFrameless
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.stringArrayArgFrameless
- id: inlined
  type: LOG_PROBE
  captureSnapshot: true
  sampling:
    # Gets called twice, so we should get 2 snapshots.
    snapshotsPerSecond: 2
  where:
    methodName: main.inlined
- id: mapArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.mapArg
- id: bigMapArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.bigMapArg
- id: PointerChainArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.PointerChainArg
  capture:
    maxReferenceDepth: 3
- id: PointerSmallChainArg
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.PointerSmallChainArg
  capture:
    maxReferenceDepth: 5
- id: noArgs
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.noArgs
- id: usesMapsOfMapsThatDoNotAppearAsArguments
  type: LOG_PROBE
  captureSnapshot: true
  where:
    methodName: main.usesMapsOfMapsThatDoNotAppearAsArguments
- id: templateTest
  type: LOG_PROBE
  where:
    methodName: main.templateTest
  template: "User: {user}, Count: {count}"
  segments:
    - str: "User: "
    - json:
        "ref": "user"
      dsl: "user"
    - str: ", Count: "
    - json:
        "ref": "count"
      dsl: "count"
- id: templateTest2
  type: LOG_PROBE
  where:
    methodName: main.templateTest2
  template: "User: {user}, Count: {count}, Result: {result}"
  segments:
    - str: "User: "
    - json:
        "ref": "user"
      dsl: "user"
    - str: ", Count: "
    - json:
        "ref": "count"
      dsl: "count"
    - str: ", Result: "
    - json:
        "ref": "result"
      dsl: "result"
- id: templateTest3
  type: LOG_PROBE
  where:
    methodName: main.templateTest2
  template: "User: {user}, Count: {count}, Result: {result}"
  segments:
    - str: "Result: "
    - json:
        "ref": "result"
      dsl: "result"
    - str: ", User: "
    - json:
        "ref": "user"
      dsl: "user"
    - str: ", Count: "
    - json:
        "ref": "count"
      dsl: "count"
