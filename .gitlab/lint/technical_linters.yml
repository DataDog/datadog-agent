---
.lint:
  stage: lint
  image: registry.ddbuild.io/ci/datadog-agent-buildimages/deb_x64$DATADOG_AGENT_BUILDIMAGES_SUFFIX:$DATADOG_AGENT_BUILDIMAGES
  tags: ["arch:amd64"]

validate_modules:
  extends: .lint
  needs: []
  script:
    - inv -e modules.validate

lint_licenses:
  extends: .lint
  script:
    - !reference [.retrieve_linux_go_deps]
    - !reference [.retrieve_linux_go_tools_deps]
    - inv -e install-tools
    - inv -e lint-licenses
  needs: ["go_tools_deps", "go_deps"]

