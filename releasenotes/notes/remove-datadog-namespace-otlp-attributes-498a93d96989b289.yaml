# Each section from every release note are combined when the
# CHANGELOG.rst is rendered. So the text needs to be worded so that
# it does not depend on any information only available in another
# section. This may mean repeating some details, but each section
# must be readable independently of the other.
#
# Each section note must be formatted as reStructuredText.
---
upgrade:
  - |
    APM OTLP: The ``datadog.*`` namespaced span attributes are no longer used to construct Datadog span fields. Previously, attributes like ``datadog.service``, ``datadog.env``, ``datadog.container_id``, and ``datadog.container.tag.*`` were used to directly set corresponding Datadog span fields. This functionality has been removed and the Agent now relies solely on standard OpenTelemetry semantic conventions.

    **Exception**: The ``datadog.host.name`` attribute continues to be respected for hostname resolution as documented at https://docs.datadoghq.com/opentelemetry/mapping/hostname/.

    The configuration option ``otlp_config.traces.ignore_missing_datadog_fields`` (and corresponding environment variable ``DD_OTLP_CONFIG_IGNORE_MISSING_DATADOG_FIELDS``) has been removed as it is no longer applicable.

    **Migration**: If you were using ``datadog.*`` attributes, switch to the standard OpenTelemetry semantic conventions:

    * ``datadog.service`` → ``service.name``
    * ``datadog.env`` → ``deployment.environment.name`` (OTel 1.27+) or ``deployment.environment``
    * ``datadog.version`` → ``service.version``
    * ``datadog.container_id`` → ``container.id``
    * ``datadog.container.tag.<key>`` → Use standard OTel resource attributes (e.g., ``k8s.pod.name``, ``container.image.name``)

    **Who is affected**: Users who explicitly set ``datadog.*`` attributes in their OpenTelemetry instrumentation to override default field mappings. Users relying solely on standard OpenTelemetry semantic conventions are not affected.
