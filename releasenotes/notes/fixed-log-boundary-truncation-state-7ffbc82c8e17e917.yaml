# Each section from every release note are combined when the
# CHANGELOG.rst is rendered. So the text needs to be worded so that
# it does not depend on any information only available in another
# section. This may mean repeating some details, but each section
# must be readable independently of the other.
#
# Each section note must be formatted as reStructuredText.
---
fixes:
  - |
    Fixed a bug where log lines exactly at the ``logs_config.max_message_size_bytes``
    limit (default 900KB) were incorrectly marked as truncated. This caused the
    ``...TRUNCATED...`` marker to appear in logs that fit within the size limit,
    and incorrectly marked the subsequent log line as a truncated remainder.

    Additionally, improved truncation detection to only mark frames that are actually
    truncated, rather than all frames from a split log line. This makes truncation
    metrics more accurate and allows ``exclude_at_match`` rules with truncation filters
    to work more precisely.
