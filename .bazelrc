# Do not edit this file without a review from @DataDog/agent-build

# Keep the server alive for at most 8 hours of inactivity
startup --max_idle_secs=28800

common --enable_platform_specific_config # Supported OS identifiers are linux, macos, windows, freebsd, and openbsd

build --verbose_failures
# Do not leak local environment variables into the build context
build --incompatible_strict_action_env
build:linux --strategy=sandboxed
build:macos --strategy=sandboxed
build:windows --strategy=standalone # Valid values are: [dynamic_worker, standalone, dynamic, remote, worker, local]
# For whatever reason if convenience symlinks are present, the build fails on Windows.
# Disabling them for now.
build:windows --noexperimental_convenience_symlinks


# Remote cache: opt in by adding `common --config=cache` to either `user.bazelrc` (workspace) or `~/.bazelrc` (home)
common:cache --remote_instance_name=remote-caching
common:cache --remote_cache=grpc://bazel-buildbarn-frontend.ddbuild.io:443
common:cache --remote_timeout=60
common:cache --remote_retries=1

try-import %workspace%/user.bazelrc
